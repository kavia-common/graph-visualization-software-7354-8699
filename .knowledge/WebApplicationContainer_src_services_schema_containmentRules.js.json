{"is_source_file": true, "format": "JavaScript", "description": "This file defines and manages containment rules and constraints within a network diagram or infrastructure model. It specifies allowed parent-child relationships between different node types such as 'site', 'building', 'room', 'rack', 'device', 'interface', and 'port'. It also includes validation functions for rack positions and slots, as well as utilities for normalization and rule descriptions.", "external_files": [], "external_methods": [], "published": ["DEVICE_TYPES", "ALLOWED_CHILDREN", "TOP_LEVEL_TYPES", "getAllowedChildren", "isAllowedAtTopLevel", "isDeviceType", "canContain", "describeContainmentRule", "validateRackPositionIndex", "validateRackSlotIndex", "canAddChildWithCaps"], "classes": [], "methods": [{"name": "normalizeParentType(parentType)", "description": "Normalizes device types ('router', 'switch') to 'device' for rule lookups.", "scope": "", "scopeKind": ""}, {"name": "getAllowedChildren(parentType)", "description": "Returns the list of allowed children for a given parent type.", "scope": "", "scopeKind": ""}, {"name": "isAllowedAtTopLevel(type)", "description": "Checks if a given type can be created at the top level (without a parent).", "scope": "", "scopeKind": ""}, {"name": "isDeviceType(type)", "description": "Determines if a type is considered a device variant ('router', 'switch', or 'device').", "scope": "", "scopeKind": ""}, {"name": "canContain(parentType, childType)", "description": "Checks if a parent of a certain type can contain a child of another type, considering device normalization.", "scope": "", "scopeKind": ""}, {"name": "describeContainmentRule(parentType)", "description": "Provides a human-readable description of allowed children for a parent type.", "scope": "", "scopeKind": ""}, {"name": "validateRackPositionIndex(index)", "description": "Validates if a rack position index is within the allowed range (1..42).", "scope": "", "scopeKind": ""}, {"name": "validateRackSlotIndex(index)", "description": "Validates if a rack slot index is within the allowed range (1..16).", "scope": "", "scopeKind": ""}, {"name": "canAddChildWithCaps(parentNode, childType, siblings = [])", "description": "Enforces capacity constraints for rack children, ensuring no more than allowed rack positions or slots are added, with index validation.", "scope": "", "scopeKind": ""}], "calls": ["normalizeParentType", "getAllowedChildren", "isDeviceType", "ALLOWED_CHILDREN", "normalizeParentType"], "search-terms": ["containment rules", "network node hierarchy", "rack capacity validation", "top-level allowed types", "device normalization", "rackPosition validation", "slot validation"], "state": 2, "file_id": 133, "knowledge_revision": 384, "git_revision": "4b4bfd8bec0b3041939245477e71b80f3530492d", "revision_history": [{"376": ""}, {"384": "4b4bfd8bec0b3041939245477e71b80f3530492d"}], "ctags": [{"_type": "tag", "name": "ALLOWED_CHILDREN", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^export const ALLOWED_CHILDREN = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "DEVICE_TYPES", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^export const DEVICE_TYPES = ['router', 'switch'];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "RACK_POSITION_MAX", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^const RACK_POSITION_MAX = 42;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "RACK_POSITION_MIN", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^const RACK_POSITION_MIN = 1;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "RACK_SLOT_MAX", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^const RACK_SLOT_MAX = 16;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "RACK_SLOT_MIN", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^const RACK_SLOT_MIN = 1;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "TOP_LEVEL_TYPES", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^export const TOP_LEVEL_TYPES = ['site'];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "building", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^  building: ['room'],$/", "language": "JavaScript", "kind": "property", "scope": "ALLOWED_CHILDREN", "scopeKind": "class"}, {"_type": "tag", "name": "canAddChildWithCaps", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^export function canAddChildWithCaps(parentNode, childType, siblings = []) {$/", "language": "JavaScript", "kind": "function", "signature": "(parentNode, childType, siblings = [])"}, {"_type": "tag", "name": "canContain", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^export function canContain(parentType, childType) {$/", "language": "JavaScript", "kind": "function", "signature": "(parentType, childType)"}, {"_type": "tag", "name": "describeContainmentRule", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^export function describeContainmentRule(parentType) {$/", "language": "JavaScript", "kind": "function", "signature": "(parentType)"}, {"_type": "tag", "name": "device", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^  device: ['interface', 'port'], \\/\\/ applies to router\\/switch via normalization$/", "language": "JavaScript", "kind": "property", "scope": "ALLOWED_CHILDREN", "scopeKind": "class"}, {"_type": "tag", "name": "getAllowedChildren", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^export function getAllowedChildren(parentType) {$/", "language": "JavaScript", "kind": "function", "signature": "(parentType)"}, {"_type": "tag", "name": "interface", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^  interface: [],$/", "language": "JavaScript", "kind": "property", "scope": "ALLOWED_CHILDREN", "scopeKind": "class"}, {"_type": "tag", "name": "isAllowedAtTopLevel", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^export function isAllowedAtTopLevel(type) {$/", "language": "JavaScript", "kind": "function", "signature": "(type)"}, {"_type": "tag", "name": "isDeviceType", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^export function isDeviceType(type) {$/", "language": "JavaScript", "kind": "function", "signature": "(type)"}, {"_type": "tag", "name": "normalizeParentType", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^function normalizeParentType(parentType) {$/", "language": "JavaScript", "kind": "function", "signature": "(parentType)"}, {"_type": "tag", "name": "port", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^  port: [],$/", "language": "JavaScript", "kind": "property", "scope": "ALLOWED_CHILDREN", "scopeKind": "class"}, {"_type": "tag", "name": "rack", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^  rack: ['rackPosition', 'slot'],$/", "language": "JavaScript", "kind": "property", "scope": "ALLOWED_CHILDREN", "scopeKind": "class"}, {"_type": "tag", "name": "rackPosition", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^  rackPosition: ['device'],$/", "language": "JavaScript", "kind": "property", "scope": "ALLOWED_CHILDREN", "scopeKind": "class"}, {"_type": "tag", "name": "room", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^  room: ['rack'],$/", "language": "JavaScript", "kind": "property", "scope": "ALLOWED_CHILDREN", "scopeKind": "class"}, {"_type": "tag", "name": "site", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^  site: ['building'],$/", "language": "JavaScript", "kind": "property", "scope": "ALLOWED_CHILDREN", "scopeKind": "class"}, {"_type": "tag", "name": "slot", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^  slot: ['device'],$/", "language": "JavaScript", "kind": "property", "scope": "ALLOWED_CHILDREN", "scopeKind": "class"}, {"_type": "tag", "name": "validateRackPositionIndex", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^export function validateRackPositionIndex(index) {$/", "language": "JavaScript", "kind": "function", "signature": "(index)"}, {"_type": "tag", "name": "validateRackSlotIndex", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/schema/containmentRules.js", "pattern": "/^export function validateRackSlotIndex(index) {$/", "language": "JavaScript", "kind": "function", "signature": "(index)"}], "hash": "66e1116a30ac22b21dbc0f96458133b5", "format-version": 4, "code-base-name": "WebApplicationContainer", "filename": "WebApplicationContainer/src/services/schema/containmentRules.js", "fields": [{"name": "building: ['room'],", "scope": "ALLOWED_CHILDREN", "scopeKind": "class", "description": "unavailable"}, {"name": "device: ['interface', 'port'], \\/\\/ applies to router\\/switch via normalization", "scope": "ALLOWED_CHILDREN", "scopeKind": "class", "description": "unavailable"}, {"name": "interface: [],", "scope": "ALLOWED_CHILDREN", "scopeKind": "class", "description": "unavailable"}, {"name": "port: [],", "scope": "ALLOWED_CHILDREN", "scopeKind": "class", "description": "unavailable"}, {"name": "rack: ['rackPosition', 'slot'],", "scope": "ALLOWED_CHILDREN", "scopeKind": "class", "description": "unavailable"}, {"name": "rackPosition: ['device'],", "scope": "ALLOWED_CHILDREN", "scopeKind": "class", "description": "unavailable"}, {"name": "room: ['rack'],", "scope": "ALLOWED_CHILDREN", "scopeKind": "class", "description": "unavailable"}, {"name": "site: ['building'],", "scope": "ALLOWED_CHILDREN", "scopeKind": "class", "description": "unavailable"}, {"name": "slot: ['device'],", "scope": "ALLOWED_CHILDREN", "scopeKind": "class", "description": "unavailable"}]}