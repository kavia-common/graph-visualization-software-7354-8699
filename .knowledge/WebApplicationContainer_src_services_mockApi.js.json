{"is_source_file": true, "format": "JavaScript", "description": "This file defines a mock API for a web-based graph visualization software, including functions to fetch palette items, and create, update, retrieve, and list nodes and edges in an in-memory store. It also includes configuration for mock delays and error simulation, as well as a seeded palette of items specific to infrastructure and network devices.", "external_files": ["./schema/containmentRules"], "external_methods": ["canContain", "isAllowedAtTopLevel", "validateRackPositionIndex", "validateRackSlotIndex"], "published": ["getPalette", "createNode", "updateNode", "getNode", "listNodes", "createEdge", "getEdge", "listEdges"], "classes": [], "methods": [{"name": "getPalette()", "description": "Returns the seeded palette items used for mock mode.", "scope": "", "scopeKind": ""}, {"name": "createNode(payload)", "description": "Creates and stores a new node in the in-memory store, with validation for containment and top-level constraints.", "scope": "", "scopeKind": ""}, {"name": "updateNode(id, patch)", "description": "Updates an existing node with shallow merge semantics.", "scope": "", "scopeKind": ""}, {"name": "getNode(id)", "description": "Fetches a node by its ID.", "scope": "", "scopeKind": ""}, {"name": "listNodes()", "description": "Lists all nodes in the in-memory store.", "scope": "", "scopeKind": ""}, {"name": "createEdge(payload)", "description": "Creates an edge between nodes in the in-memory store.", "scope": "", "scopeKind": ""}, {"name": "getEdge(id)", "description": "Fetches an edge by its ID.", "scope": "", "scopeKind": ""}, {"name": "listEdges()", "description": "Lists all edges in the in-memory store.", "scope": "", "scopeKind": ""}, {"name": "delay(ms = USE_DELAY_MS)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "maybeFail()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "nextEdgeId()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "nextNodeId()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["delay()", "maybeFail()", "canContain()", "isAllowedAtTopLevel()", "validateRackPositionIndex()", "validateRackSlotIndex()", "memory.nodes.set()", "memory.edges.set()", "Array.from()", "memory.nodes.get()", "memory.edges.get()", "memory.nodes.delete()", "memory.edges.delete()"], "search-terms": ["mockApi", "containmentRules", "seededPalette", "createNode", "createEdge", "graph visualization", "in-memory store", "mock API", "node creation", "edge creation", "network device"], "state": 2, "file_id": 132, "knowledge_revision": 394, "git_revision": "6e4bee7c096440f0bc53d5970c26d37e10d5fb37", "revision_history": [{"371": ""}, {"379": "7645f7d350de7b1177cd962ccde4525789d8b637"}, {"381": "7645f7d350de7b1177cd962ccde4525789d8b637"}, {"382": "7645f7d350de7b1177cd962ccde4525789d8b637"}, {"383": "7645f7d350de7b1177cd962ccde4525789d8b637"}, {"386": "4b4bfd8bec0b3041939245477e71b80f3530492d"}, {"387": "4b4bfd8bec0b3041939245477e71b80f3530492d"}, {"388": "4b4bfd8bec0b3041939245477e71b80f3530492d"}, {"389": "6e4bee7c096440f0bc53d5970c26d37e10d5fb37"}, {"390": "6e4bee7c096440f0bc53d5970c26d37e10d5fb37"}, {"394": "6e4bee7c096440f0bc53d5970c26d37e10d5fb37"}], "ctags": [{"_type": "tag", "name": "ERROR_RATE", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^const ERROR_RATE = (() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "USE_DELAY_MS", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^const USE_DELAY_MS = (() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "counters", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^  counters: { n: 0, e: 0 },$/", "language": "JavaScript", "kind": "class", "scope": "memory", "scopeKind": "class"}, {"_type": "tag", "name": "createEdge", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^export async function createEdge(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "createNode", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^export async function createNode(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^          err.data = { message: 'A rack can have at most 16 slot children.' };$/", "language": "JavaScript", "kind": "class", "scope": "err", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^          err.data = { message: 'A rack can have at most 42 rackPosition children.' };$/", "language": "JavaScript", "kind": "class", "scope": "err", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^          err.data = { message: 'rackPosition index must be an integer in range 1..42.' };$/", "language": "JavaScript", "kind": "class", "scope": "err", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^          err.data = { message: 'slot index must be an integer in range 1..16.' };$/", "language": "JavaScript", "kind": "class", "scope": "err", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^      err.data = { message: `Cannot create ${type} at top-level` };$/", "language": "JavaScript", "kind": "class", "scope": "err", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^      err.data = { message: `Cannot place a ${type} inside ${parentType}` };$/", "language": "JavaScript", "kind": "class", "scope": "err", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^      err.data = { message: `Parent '${parentId}' not found` };$/", "language": "JavaScript", "kind": "class", "scope": "err", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^    err.data = { message: 'type is required' };$/", "language": "JavaScript", "kind": "class", "scope": "err", "scopeKind": "class"}, {"_type": "tag", "name": "delay", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^function delay(ms = USE_DELAY_MS) {$/", "language": "JavaScript", "kind": "function", "signature": "(ms = USE_DELAY_MS)"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^  counters: { n: 0, e: 0 },$/", "language": "JavaScript", "kind": "property", "scope": "memory.counters", "scopeKind": "class"}, {"_type": "tag", "name": "edges", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^  edges: new Map(), \\/\\/ id -> edge$/", "language": "JavaScript", "kind": "property", "scope": "memory", "scopeKind": "class"}, {"_type": "tag", "name": "getEdge", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^export async function getEdge(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getNode", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^export async function getNode(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getPalette", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^export async function getPalette() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^  const edge = { id, ...payload };$/", "language": "JavaScript", "kind": "field", "scope": "createEdge.edge", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^  const node = { id, ...payload, props };$/", "language": "JavaScript", "kind": "field", "scope": "createNode.node", "scopeKind": "class"}, {"_type": "tag", "name": "listEdges", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^export async function listEdges() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listNodes", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^export async function listNodes() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "maybeFail", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^function maybeFail() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "memory", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^const memory = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^          err.data = { message: 'A rack can have at most 16 slot children.' };$/", "language": "JavaScript", "kind": "property", "scope": "err.data", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^          err.data = { message: 'A rack can have at most 42 rackPosition children.' };$/", "language": "JavaScript", "kind": "property", "scope": "err.data", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^          err.data = { message: 'rackPosition index must be an integer in range 1..42.' };$/", "language": "JavaScript", "kind": "property", "scope": "err.data", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^          err.data = { message: 'slot index must be an integer in range 1..16.' };$/", "language": "JavaScript", "kind": "property", "scope": "err.data", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^      err.data = { message: `Cannot create ${type} at top-level` };$/", "language": "JavaScript", "kind": "property", "scope": "err.data", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^      err.data = { message: `Cannot place a ${type} inside ${parentType}` };$/", "language": "JavaScript", "kind": "property", "scope": "err.data", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^      err.data = { message: `Parent '${parentId}' not found` };$/", "language": "JavaScript", "kind": "property", "scope": "err.data", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^    err.data = { message: 'type is required' };$/", "language": "JavaScript", "kind": "property", "scope": "err.data", "scopeKind": "class"}, {"_type": "tag", "name": "n", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^  counters: { n: 0, e: 0 },$/", "language": "JavaScript", "kind": "property", "scope": "memory.counters", "scopeKind": "class"}, {"_type": "tag", "name": "nextEdgeId", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^function nextEdgeId() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "nextNodeId", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^function nextNodeId() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "nodes", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^  nodes: new Map(), \\/\\/ id -> node$/", "language": "JavaScript", "kind": "property", "scope": "memory", "scopeKind": "class"}, {"_type": "tag", "name": "seededPalette", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^const seededPalette = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updateNode", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^export async function updateNode(id, patch) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, patch)"}], "hash": "bc7f9c3d27b87d798cd6436da496f14a", "format-version": 4, "code-base-name": "WebApplicationContainer", "filename": "WebApplicationContainer/src/services/mockApi.js", "fields": [{"name": "counters: { n: 0, e: 0 },", "scope": "memory.counters", "scopeKind": "class", "description": "unavailable"}, {"name": "edges: new Map(), \\/\\/ id -> edge", "scope": "memory", "scopeKind": "class", "description": "unavailable"}, {"name": "const edge = { id, ...payload };", "scope": "createEdge.edge", "scopeKind": "class", "description": "unavailable"}, {"name": "const node = { id, ...payload, props };", "scope": "createNode.node", "scopeKind": "class", "description": "unavailable"}, {"name": "err.data = { message: 'A rack can have at most 16 slot children.' };", "scope": "err.data", "scopeKind": "class", "description": "unavailable"}, {"name": "err.data = { message: 'A rack can have at most 42 rackPosition children.' };", "scope": "err.data", "scopeKind": "class", "description": "unavailable"}, {"name": "err.data = { message: 'rackPosition index must be an integer in range 1..42.' };", "scope": "err.data", "scopeKind": "class", "description": "unavailable"}, {"name": "err.data = { message: 'slot index must be an integer in range 1..16.' };", "scope": "err.data", "scopeKind": "class", "description": "unavailable"}, {"name": "err.data = { message: `Cannot create ${type} at top-level` };", "scope": "err.data", "scopeKind": "class", "description": "unavailable"}, {"name": "err.data = { message: `Cannot place a ${type} inside ${parentType}` };", "scope": "err.data", "scopeKind": "class", "description": "unavailable"}, {"name": "err.data = { message: `Parent '${parentId}' not found` };", "scope": "err.data", "scopeKind": "class", "description": "unavailable"}, {"name": "err.data = { message: 'type is required' };", "scope": "err.data", "scopeKind": "class", "description": "unavailable"}, {"name": "nodes: new Map(), \\/\\/ id -> node", "scope": "memory", "scopeKind": "class", "description": "unavailable"}]}