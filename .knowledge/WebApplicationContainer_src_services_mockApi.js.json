{"is_source_file": true, "format": "JavaScript", "description": "This file implements a mock API for a web application's diagramming or network topology features. It provides functions to create, update, retrieve, and list nodes and edges in-memory, simulating server responses with configurable delays and error rates. It utilizes imported containment rules for validation of node placement and exports an API for frontend components to interact with mock data.", "external_files": ["./schema/containmentRules"], "external_methods": ["canContain", "isAllowedAtTopLevel"], "published": ["getPalette", "createNode", "updateNode", "getNode", "listNodes", "createEdge", "getEdge", "listEdges"], "classes": [], "methods": [{"name": "getPalette()", "description": "Returns a predefined palette of network device types for mock data.", "scope": "", "scopeKind": ""}, {"name": "createNode(payload)", "description": "Creates a new network node in memory with validation based on containment rules and top-level allowance.", "scope": "", "scopeKind": ""}, {"name": "updateNode(id, patch)", "description": "Updates an existing node's properties in memory.", "scope": "", "scopeKind": ""}, {"name": "getNode(id)", "description": "Retrieves a node by its ID.", "scope": "", "scopeKind": ""}, {"name": "listNodes()", "description": "Lists all nodes currently stored in memory.", "scope": "", "scopeKind": ""}, {"name": "createEdge(payload)", "description": "Creates a new edge (connection) between nodes in memory.", "scope": "", "scopeKind": ""}, {"name": "getEdge(id)", "description": "Retrieves an edge by its ID.", "scope": "", "scopeKind": ""}, {"name": "listEdges()", "description": "Lists all edges currently stored in memory.", "scope": "", "scopeKind": ""}, {"name": "delay(ms = USE_DELAY_MS)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "maybeFail()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "nextEdgeId()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "nextNodeId()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["delay()", "maybeFail()", "nextNodeId()", "nextEdgeId()"], "search-terms": ["mockApi", "containmentRules", "network nodes", "graph visualization", "in-memory store", "mock API server", "device palette"], "state": 2, "file_id": 132, "knowledge_revision": 383, "git_revision": "7645f7d350de7b1177cd962ccde4525789d8b637", "revision_history": [{"371": ""}, {"379": "7645f7d350de7b1177cd962ccde4525789d8b637"}, {"381": "7645f7d350de7b1177cd962ccde4525789d8b637"}, {"382": "7645f7d350de7b1177cd962ccde4525789d8b637"}, {"383": "7645f7d350de7b1177cd962ccde4525789d8b637"}], "ctags": [{"_type": "tag", "name": "ERROR_RATE", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^const ERROR_RATE = (() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "USE_DELAY_MS", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^const USE_DELAY_MS = (() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "counters", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^  counters: { n: 0, e: 0 },$/", "language": "JavaScript", "kind": "class", "scope": "memory", "scopeKind": "class"}, {"_type": "tag", "name": "createEdge", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^export async function createEdge(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "createNode", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^export async function createNode(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^      err.data = { message: `Cannot create ${type} at top-level` };$/", "language": "JavaScript", "kind": "class", "scope": "err", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^      err.data = { message: `Cannot place a ${type} inside ${parentType}` };$/", "language": "JavaScript", "kind": "class", "scope": "err", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^      err.data = { message: `Parent '${parentId}' not found` };$/", "language": "JavaScript", "kind": "class", "scope": "err", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^    err.data = { message: 'type is required' };$/", "language": "JavaScript", "kind": "class", "scope": "err", "scopeKind": "class"}, {"_type": "tag", "name": "delay", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^function delay(ms = USE_DELAY_MS) {$/", "language": "JavaScript", "kind": "function", "signature": "(ms = USE_DELAY_MS)"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^  counters: { n: 0, e: 0 },$/", "language": "JavaScript", "kind": "property", "scope": "memory.counters", "scopeKind": "class"}, {"_type": "tag", "name": "edges", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^  edges: new Map(), \\/\\/ id -> edge$/", "language": "JavaScript", "kind": "property", "scope": "memory", "scopeKind": "class"}, {"_type": "tag", "name": "getEdge", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^export async function getEdge(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getNode", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^export async function getNode(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getPalette", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^export async function getPalette() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^  const edge = { id, ...payload };$/", "language": "JavaScript", "kind": "field", "scope": "createEdge.edge", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^  const node = { id, ...payload };$/", "language": "JavaScript", "kind": "field", "scope": "createNode.node", "scopeKind": "class"}, {"_type": "tag", "name": "listEdges", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^export async function listEdges() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listNodes", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^export async function listNodes() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "maybeFail", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^function maybeFail() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "memory", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^const memory = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^      err.data = { message: `Cannot create ${type} at top-level` };$/", "language": "JavaScript", "kind": "property", "scope": "err.data", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^      err.data = { message: `Cannot place a ${type} inside ${parentType}` };$/", "language": "JavaScript", "kind": "property", "scope": "err.data", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^      err.data = { message: `Parent '${parentId}' not found` };$/", "language": "JavaScript", "kind": "property", "scope": "err.data", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^    err.data = { message: 'type is required' };$/", "language": "JavaScript", "kind": "property", "scope": "err.data", "scopeKind": "class"}, {"_type": "tag", "name": "n", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^  counters: { n: 0, e: 0 },$/", "language": "JavaScript", "kind": "property", "scope": "memory.counters", "scopeKind": "class"}, {"_type": "tag", "name": "nextEdgeId", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^function nextEdgeId() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "nextNodeId", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^function nextNodeId() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "nodes", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^  nodes: new Map(), \\/\\/ id -> node$/", "language": "JavaScript", "kind": "property", "scope": "memory", "scopeKind": "class"}, {"_type": "tag", "name": "seededPalette", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^const seededPalette = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updateNode", "path": "/home/kavia/workspace/code-generation/graph-visualization-software-7354-8699/WebApplicationContainer/src/services/mockApi.js", "pattern": "/^export async function updateNode(id, patch) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, patch)"}], "hash": "4c81610c34341108e063b4eb364a1f58", "format-version": 4, "code-base-name": "WebApplicationContainer", "filename": "WebApplicationContainer/src/services/mockApi.js", "fields": [{"name": "counters: { n: 0, e: 0 },", "scope": "memory.counters", "scopeKind": "class", "description": "unavailable"}, {"name": "edges: new Map(), \\/\\/ id -> edge", "scope": "memory", "scopeKind": "class", "description": "unavailable"}, {"name": "const edge = { id, ...payload };", "scope": "createEdge.edge", "scopeKind": "class", "description": "unavailable"}, {"name": "const node = { id, ...payload };", "scope": "createNode.node", "scopeKind": "class", "description": "unavailable"}, {"name": "err.data = { message: `Cannot create ${type} at top-level` };", "scope": "err.data", "scopeKind": "class", "description": "unavailable"}, {"name": "err.data = { message: `Cannot place a ${type} inside ${parentType}` };", "scope": "err.data", "scopeKind": "class", "description": "unavailable"}, {"name": "err.data = { message: `Parent '${parentId}' not found` };", "scope": "err.data", "scopeKind": "class", "description": "unavailable"}, {"name": "err.data = { message: 'type is required' };", "scope": "err.data", "scopeKind": "class", "description": "unavailable"}, {"name": "nodes: new Map(), \\/\\/ id -> node", "scope": "memory", "scopeKind": "class", "description": "unavailable"}]}